spring:
  # 数据源配置
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    # 优先从环境变量 DB_URL / DB_USERNAME / DB_PASSWORD 读取；
    # 默认使用本机 13306 端口，与 docker-compose.yml 中的端口映射保持一致
    url: ${DB_URL:jdbc:mysql://localhost:13306/exam?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true}
    username: ${DB_USERNAME:root}
    password: ${DB_PASSWORD:rootpass}

  # Redis配置
  data:
    redis:
      host: ${REDIS_HOST:localhost}
      # 默认使用本机 16379 端口，与 docker-compose.yml 中的端口映射保持一致
      port: ${REDIS_PORT:16379}
      password: ${REDIS_PASSWORD:}
      database: 0
      timeout: 3000ms
      lettuce:
        pool:
          max-active: 8
          max-idle: 8
          min-idle: 0

# JWT配置
jwt:
  secret: ${JWT_SECRET:exam-system-secret-key-2024-online-exam-system-jwt-token}
  expiration: ${JWT_EXPIRATION:86400}

# 日志配置
logging:
  level:
    root: INFO
    com.exam: DEBUG
    org.springframework.security: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{50} - %msg%n"

